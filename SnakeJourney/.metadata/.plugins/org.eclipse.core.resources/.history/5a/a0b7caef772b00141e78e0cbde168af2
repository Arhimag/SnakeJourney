package com.arhimag.games.omnomnom.Achievements;

import java.io.BufferedReader;

import android.util.Log;

public class GameAchievement {

	private int id; //Глобальный id ачивки.
	private int status; // Степень выполнения ачивки в процентах от одного до 100
	private int[][] text; // Текст ачивки представленный в виде карты цветов. Он будет отображаться на экране списка ачиивок рядом с иконкой.
	private int[][] listIcon; // Иконка ачивки. тоже карта цветов. отображается в списке ачивок
	private int[][] gameIcon; // Иконка ачивки. карта цветов. Появляется в игре при достижении ачивки.
	public static final int listIconWidth = 5; //Ширина иконки списочной
	public static final int listIconHeight = 5; //Высота иконки списочной
	public static final int gameIconWidth = 10; //Ширина иконки списочной
	public static final int gameIconHeight = 10; //Высота иконки списочной
	public static final int textWidth = 46; // Ширина блока с текстом
	public static final int textHeight = 10; // Высота блока с текстом
	public static final Class[] achievementsList = {}; // Класс-список ачивок. Номер в этом массиве и является id ачивки.
	
	/* Функция считывает ачивки из файла настроек. В конце всех ачивок должна
	 * находиться ачивка с id равным -1. Завершающая ачивка.
	 * Функция всегда считывает по 2 строки. id, status
	 */
	public static GameAchievement readAchievement(BufferedReader in)
	{
		int achievementId;
		int rStatus;
		GameAchievement result;
		try
		{
			achievementId = Integer.parseInt(in.readLine());
			rStatus = Integer.parseInt(in.readLine());
		}
		catch( Exception ex )
		{
			achievementId = -1;
			Log.d("Achievement", "can not read id");
		}
		
		if(achievementId == -1) 
			return null;
		else
			if(achievementId >= achievementsList.length )
				return null;
			else
			{
				try
				{
					achievementsList[achievementId].getConstructor(null).newInstance(null);
					
				}
				catch(Exception ex)
				{
					Log.d("Achievement", "can not get constructor " + ex.getMessage());
				}
			}
	}
}
