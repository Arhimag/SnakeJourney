package com.arhimag.games.omnomnom.AI;

import com.arhimag.games.omnomnom.Snake;
import com.arhimag.games.omnomnom.Levels.GameLevel;

public class BridgeAISnake extends Snake 
{
	GameLevel level;
	java.util.Random rnd = new java.util.Random(System.currentTimeMillis());
	
	public BridgeAISnake(GameLevel level, int x, int y)
	{
		super(x,y);
		this.level = level;
	}
	
	
	
	public int chooseDirection()
	{
		int decision = rnd.nextInt(3);
		int turn1 = 0;
		int turn2 = 0;
		//Если 0, то поворачиваем.
		if(decision == 0 )
			if( direction == Snake.UP || direction == Snake.DOWN )
			{
				for( int i = 0; i < parts.size(); i++ )
					if( parts.get(i).x > parts.get(0).x )
						turn1 ++;
					else if( parts.get(i).x < parts.get(0).x )
						turn2 ++;
				if( turn1 > turn2 )
					direction = Snake.LEFT;
				else if( turn1 > turn2 )
					direction = Snake.RIGHT;
			}
			else
			{
				for( int i = 0; i < parts.size(); i++ )
					if( parts.get(i).y > parts.get(0).y )
						turn1 ++;
					else if( parts.get(i).y < parts.get(0).y )
						turn2 ++;
				if( turn1 > turn2 )
					direction = Snake.UP;
				else if( turn1 > turn2 )
					direction = Snake.DOWN;
			}
				
	}

	public void nextTurn()
	{
		chooseDirection();
	}
}
